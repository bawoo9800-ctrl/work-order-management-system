# ========================================
# 작업지시서 관리 시스템 - 환경 변수 설정
# ========================================

# ========================================
# 서버 설정
# ========================================
NODE_ENV=development
PORT=3200
SOCKET_PORT=3201
LOG_LEVEL=debug

# ========================================
# MariaDB 설정 (시놀로지 NAS)
# ========================================
DB_HOST=192.168.1.109
DB_PORT=3306
DB_USER=work_order_user
DB_PASSWORD=your_secure_password_here
DB_NAME=work_order_management
DB_CONNECTION_LIMIT=10
DB_CONNECT_TIMEOUT=10000

# ========================================
# 시놀로지 NAS 경로 설정
# ========================================
# 업로드된 이미지 저장 경로
NAS_STORAGE_PATH=/volume1/work_orders
# 로컬 개발 환경에서는 ./uploads 사용
LOCAL_STORAGE_PATH=./uploads

# ========================================
# OpenAI API 설정
# ========================================
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL_TEXT=gpt-4o-mini
OPENAI_MODEL_VISION=gpt-4o
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.3

# ========================================
# Tesseract OCR 설정
# ========================================
TESSERACT_LANG=kor+eng
TESSERACT_PSM=3
TESSERACT_OEM=3

# ========================================
# 파일 업로드 설정
# ========================================
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/jpg,image/webp
MAX_FILES_PER_REQUEST=5

# ========================================
# 이미지 처리 설정
# ========================================
IMAGE_MAX_WIDTH=2048
IMAGE_MAX_HEIGHT=2048
IMAGE_QUALITY=85
IMAGE_FORMAT=jpeg

# ========================================
# CORS 설정
# ========================================
CORS_ORIGIN=http://localhost:5173,http://192.168.1.109:5173
CORS_CREDENTIALS=true

# ========================================
# Rate Limiting 설정
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# 분류 알고리즘 설정
# ========================================
# 키워드 매칭 신뢰도 임계값 (0.0 ~ 1.0)
KEYWORD_CONFIDENCE_THRESHOLD=0.7
# AI 분류 신뢰도 임계값 (0.0 ~ 1.0)
AI_CONFIDENCE_THRESHOLD=0.6
# 자동 분류 최소 신뢰도 (이하는 수동 분류 필요)
AUTO_CLASSIFICATION_MIN_CONFIDENCE=0.8

# ========================================
# 로깅 설정
# ========================================
LOG_DIR=./logs
LOG_MAX_SIZE=20m
LOG_MAX_FILES=14d
LOG_DATE_PATTERN=YYYY-MM-DD

# ========================================
# 개발자 옵션
# ========================================
# OCR 처리 결과 상세 로깅
DEBUG_OCR=true
# AI 분류 프롬프트 및 응답 로깅
DEBUG_AI=true
# API 비용 추적 활성화
TRACK_API_COST=true
# 처리 시간 측정 활성화
TRACK_PROCESSING_TIME=true
